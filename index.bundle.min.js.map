{"version":3,"sources":["webpack://data-capsule/webpack/universalModuleDefinition","webpack://data-capsule/webpack/bootstrap","webpack://data-capsule/./base-storage.js","webpack://data-capsule/./utils/constants.js","webpack://data-capsule/../node_modules/axios/lib/utils.js","webpack://data-capsule/../node_modules/message-channel/dist/src/utils.js","webpack://data-capsule/../node_modules/message-channel/dist/src/constants.js","webpack://data-capsule/../node_modules/greedy-split/dist/src/index.js","webpack://data-capsule/./strategies/local-storage.js","webpack://data-capsule/./utils/record-utils.js","webpack://data-capsule/./data-capsule.js","webpack://data-capsule/./utils/frame-storage-listener.js","webpack://data-capsule/../node_modules/message-channel/listener.js","webpack://data-capsule/../node_modules/message-channel/dist/src/listener/listener.js","webpack://data-capsule/../node_modules/message-channel/dist/src/listener/listen-factory.js","webpack://data-capsule/./utils/local-storage-cleaner.js","webpack://data-capsule/./strategies/frame-storage.js","webpack://data-capsule/../node_modules/message-channel/connect.js","webpack://data-capsule/../node_modules/message-channel/dist/src/connect/connect.js","webpack://data-capsule/../node_modules/message-channel/dist/src/connect/send-factory.js","webpack://data-capsule/../node_modules/uuid/v4.js","webpack://data-capsule/../node_modules/uuid/lib/rng-browser.js","webpack://data-capsule/../node_modules/uuid/lib/bytesToUuid.js","webpack://data-capsule/../node_modules/axios/lib/defaults.js","webpack://data-capsule/../node_modules/axios/lib/helpers/bind.js","webpack://data-capsule/../node_modules/axios/lib/adapters/xhr.js","webpack://data-capsule/../node_modules/axios/lib/core/createError.js","webpack://data-capsule/../node_modules/axios/lib/cancel/isCancel.js","webpack://data-capsule/../node_modules/axios/lib/cancel/Cancel.js","webpack://data-capsule/./global.js","webpack://data-capsule/./index.js","webpack://data-capsule/./strategies/wix-storage.js","webpack://data-capsule/../node_modules/axios/index.js","webpack://data-capsule/../node_modules/axios/lib/axios.js","webpack://data-capsule/../node_modules/is-buffer/index.js","webpack://data-capsule/../node_modules/axios/lib/core/Axios.js","webpack://data-capsule/../node_modules/node-libs-browser/node_modules/process/browser.js","webpack://data-capsule/../node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://data-capsule/../node_modules/axios/lib/core/settle.js","webpack://data-capsule/../node_modules/axios/lib/core/enhanceError.js","webpack://data-capsule/../node_modules/axios/lib/helpers/buildURL.js","webpack://data-capsule/../node_modules/axios/lib/helpers/parseHeaders.js","webpack://data-capsule/../node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://data-capsule/../node_modules/axios/lib/helpers/btoa.js","webpack://data-capsule/../node_modules/axios/lib/helpers/cookies.js","webpack://data-capsule/../node_modules/axios/lib/core/InterceptorManager.js","webpack://data-capsule/../node_modules/axios/lib/core/dispatchRequest.js","webpack://data-capsule/../node_modules/axios/lib/core/transformData.js","webpack://data-capsule/../node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://data-capsule/../node_modules/axios/lib/helpers/combineURLs.js","webpack://data-capsule/../node_modules/axios/lib/cancel/CancelToken.js","webpack://data-capsule/../node_modules/axios/lib/helpers/spread.js","webpack://data-capsule/./strategies/cached-storage.js","webpack://data-capsule/./strategies/in-memory-storage.js","webpack://data-capsule/../node_modules/webpack/buildin/harmony-module.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","window","__STATICS_BASE_URL__","s","BaseStorage","_this","_classCallCheck","forEach","method","Error","setItem","options","getItem","removeItem","getAllItems","verify","strategy","errors","NOT_FOUND","SERVER_ERROR","PREFIX_SEPARATOR","KEY_SEPARATOR","STORAGE_PREFIX","CONNECTION_MAX_TIMEOUT","MESSAGE_MAX_TIMEOUT","toError","str","values","find","err","message","isBuffer","toString","isArray","val","isObject","isFunction","obj","fn","length","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","document","merge","result","assignValue","arguments","extend","a","b","thisArg","trim","replace","parseConnectionMessage","constructConnectionMessage","parseChannelMessage","constructChannelMessage","undefined","_constants","payload","id","messageDelimiter","firstDelimiterIndex","indexOf","slice","scope","connectionRequestMsg","connectionSuccessMsg","deafultConnectionMaxTimeout","deafultMessageMaxTimeout","separator","limit","split","join","reduce","x","separatorLength","match","shift","require","localStorageCleaner","getCacheRecords","deserializeData","isExpired","getCacheKey","getCachePrefix","namespace","filter","serializeData","JSON","stringify","lastUsed","Date","now","createdAt","expiration","LocalStorageStrategy","localStorage","e","Promise","resolve","fullKey","data","updateAccessTime","reject","prefix","items","record","parseCacheKey","cacheKey","_cacheKey$split","_prefix$split","parse","startsWith","push","assign","size","originalKey","buildValidadateOptions","capsuleOptions","validateNamespace","DataCapsule","_ref","_possibleConstructorReturn","_BaseStorage","storageStrategy","_options","listenerMessageChannel","greedySplit","FrameStorageListener","stopListener","start","verifier","interceptor","reply","_greedySplit","token","respond","status","response","source","origin","invoke","params","modifiedOptions","then","catch","error","stop","_utils","_listenFactory2","default","_interopRequireDefault","noop","callback","_listener","isMessageRelevant","port","ports","getMessagePort","postMessage","authorizeConnection","addEventListener","removeEventListener","onmessage","originalMessage","_parseChannelMessage","modifiedEvent","lastEventId","replyMessage","deleteRecord","cleaner","records","requiredSpace","lastUsedSort","canClean","sort","deleteOld","deleteExpired","connectMessageChannel","FrameStorageStrategy","target","channel","getChannel","_this2","connectionMaxTimeout","messageMaxTimeout","sendCommand","_this3","sendToChannel","_len","Array","_key","_len2","_key2","_len3","_key3","_len4","_key4","_sendFactory2","_options$targetOrigin","targetOrigin","_options$connectionMa","_options$messageMaxTi","setTimeout","MessageChannel","port1","connectionMessage","parent","port2","messages","transferList","messageId","_v2","packaged","rng","bytesToUuid","buf","offset","rnds","random","ii","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","Math","byteToHex","substr","bth","process","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","headers","defaults","adapter","XMLHttpRequest","getDefaultAdapter","transformRequest","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","Accept","args","apply","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","config","requestData","requestHeaders","request","loadEvent","xDomain","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","toUpperCase","paramsSerializer","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","statusText","onerror","cookies","xsrfValue","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","enhanceError","code","__CANCEL__","Cancel","dataCapsuleTools","DataCapsuleTools","WixStorageStrategy","CachedStorageStrategy","InMemoryStorageStrategy","LocalStorageCapsule","LocalStorageCachedCapsule","remoteStrategy","InMemoryStorageCapsule","axios","nameSpace","blob","siteId","TTLInDays","ceil","post","res","Axios","createInstance","defaultConfig","context","instance","instanceConfig","CancelToken","isCancel","all","promises","spread","constructor","readFloatLE","isSlowBuffer","_isBuffer","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","interceptors","baseURL","chain","unshift","fulfilled","rejected","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","marker","runClearTimeout","Item","array","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizedName","encode","encodeURIComponent","serializedParams","parts","v","toISOString","parsed","line","originURL","msie","test","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","pathname","charAt","location","requestURL","chars","E","input","block","charCode","String","output","idx","map","charCodeAt","write","expires","path","domain","secure","cookie","toGMTString","RegExp","decodeURIComponent","remove","handlers","use","eject","h","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","relativeURL","executor","TypeError","resolvePromise","arr","DELETED","_ref$localStrategy","localStrategy","_cacheItem","_getRemoteAndCache","_this4","_this5","_this6","keys","InMemoryStrategy","memoryMap","_inherits","originalModule","webpackPolyfill","children"],"mappings":"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","file":"index.bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"data-capsule\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"data-capsule\"] = factory();\n\telse\n\t\troot[\"data-capsule\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://static.parastorage.com/services/data-capsule/1.0.0/\";\n\n\n \t__webpack_require__.p = typeof window !== 'undefined' && window.__STATICS_BASE_URL__ || __webpack_require__.p;\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n","class BaseStorage {\n  constructor() {\n    ['setItem', 'getItem', 'removeItem', 'getAllItems'].forEach(method => {\n      if (this[method] === BaseStorage.prototype[method]) {\n        throw new Error(`BaseStorage method [${method}] must be overriden!`);\n      }\n    });\n  }\n\n  setItem(key, value, options) {\n    throw options;\n  }\n\n  getItem(key, options) {\n    throw options;\n  }\n\n  removeItem(key, options) {\n    throw options;\n  }\n\n  getAllItems(options) {\n    throw options;\n  }\n\n  static verify(strategy) {\n    if (strategy instanceof BaseStorage) {\n      return strategy;\n    } else {\n      throw new Error(`This class must extend BaseStorage!`);\n    }\n  }\n}\n\nmodule.exports = BaseStorage;\n","const errors = {\n  NOT_FOUND: new Error('Key was not found in capsule'),\n  SERVER_ERROR: new Error('Failed to perform operarion on server'),\n};\n\nfunction toError(str) {\n  return Object.values(errors).find(err => err.message === str) || str;\n}\n\nmodule.exports = {\n  PREFIX_SEPARATOR: '|',\n  KEY_SEPARATOR: '#',\n  STORAGE_PREFIX: 'capsule',\n  NOT_FOUND: errors.NOT_FOUND,\n  CONNECTION_MAX_TIMEOUT: 2000,\n  MESSAGE_MAX_TIMEOUT: 8000,\n  SERVER_ERROR: errors.SERVER_ERROR,\n  toError,\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArray(obj)) {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseConnectionMessage = exports.constructConnectionMessage = exports.parseChannelMessage = exports.constructChannelMessage = undefined;\n\nvar _constants = require('./constants');\n\nvar constructChannelMessage = exports.constructChannelMessage = function constructChannelMessage(payload, id) {\n  if (!id) {\n    return payload;\n  }\n\n  return id + _constants.messageDelimiter + payload;\n};\n\nvar parseChannelMessage = exports.parseChannelMessage = function parseChannelMessage(message) {\n  var firstDelimiterIndex = message.indexOf(_constants.messageDelimiter);\n  if (firstDelimiterIndex === -1) {\n    return { id: null, payload: message };\n  }\n\n  var id = message.slice(0, firstDelimiterIndex);\n  var payload = message.slice(firstDelimiterIndex + 1);\n  return { id: id, payload: payload };\n};\n\nvar constructConnectionMessage = exports.constructConnectionMessage = function constructConnectionMessage(scope) {\n  return _constants.connectionRequestMsg + _constants.messageDelimiter + scope;\n};\n\nvar parseConnectionMessage = exports.parseConnectionMessage = function parseConnectionMessage(message) {\n  var firstDelimiterIndex = message.indexOf(_constants.messageDelimiter);\n  if (firstDelimiterIndex === -1 || message.slice(0, firstDelimiterIndex) !== _constants.connectionRequestMsg) {\n    throw new Error('Invalid connection message');\n  }\n\n  var scope = message.slice(firstDelimiterIndex + 1);\n  return scope;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar connectionRequestMsg = exports.connectionRequestMsg = 'req_con';\nvar connectionSuccessMsg = exports.connectionSuccessMsg = 'connection_success';\nvar messageDelimiter = exports.messageDelimiter = '|';\nvar deafultConnectionMaxTimeout = exports.deafultConnectionMaxTimeout = 200;\nvar deafultMessageMaxTimeout = exports.deafultMessageMaxTimeout = 5000;","'use strict';\n\nfunction greedySplit(str, separator, limit) {\n  var result = str.split(separator, limit);\n  if (result.length === limit) {\n    var length = 0;\n    if (typeof separator === 'string') {\n      length = result.join(separator).length;\n    } else {\n      length = result.reduce(function (l, x, i) {\n        var separatorLength = 0;\n        if (i + 1 < limit) {\n          separatorLength = str.slice(l).match(separator).shift().length;\n        }\n        return l + x.length + separatorLength;\n      }, 0);\n    }\n    result[limit - 1] += str.slice(length);\n  }\n  return result;\n}\n\nmodule.exports = greedySplit;\n//# sourceMappingURL=index.js.map\n","/* global localStorage */\n\nconst BaseStorage = require('../base-storage');\nconst localStorageCleaner = require('../utils/local-storage-cleaner');\nconst {\n  STORAGE_PREFIX,\n  PREFIX_SEPARATOR,\n  KEY_SEPARATOR,\n  NOT_FOUND,\n} = require('../utils/constants');\nconst {\n  getCacheRecords,\n  deserializeData,\n  isExpired,\n} = require('../utils/record-utils');\n\nfunction getCacheKey(key, options) {\n  return getCachePrefix(options) + key;\n}\n\nfunction getCachePrefix(options) {\n  return (\n    [STORAGE_PREFIX, options.namespace, options.scope]\n      .filter(x => x)\n      .join(PREFIX_SEPARATOR) + KEY_SEPARATOR\n  );\n}\n\nfunction serializeData(value, options) {\n  return JSON.stringify({\n    lastUsed: Date.now(),\n    createdAt: options.createdAt || Date.now(),\n    expiration: options.expiration,\n    value,\n  });\n}\n\nfunction updateAccessTime(fullKey, data) {\n  const { expiration, createdAt } = data;\n  localStorage.setItem(\n    fullKey,\n    serializeData(data.value, { expiration, createdAt }),\n  );\n}\n\nclass LocalStorageStrategy extends BaseStorage {\n  setItem(key, value, options) {\n    key = getCacheKey(key, options);\n    value = serializeData(value, options);\n    try {\n      localStorage.setItem(key, value);\n    } catch (e) {\n      localStorageCleaner(key.length + value.length);\n      localStorage.setItem(key, value);\n    }\n    return Promise.resolve();\n  }\n\n  getItem(key, options) {\n    const fullKey = getCacheKey(key, options);\n    let data = localStorage.getItem(fullKey);\n    data = data && deserializeData(data);\n    if (data && !isExpired(data)) {\n      updateAccessTime(fullKey, data);\n      return Promise.resolve(data.value);\n    } else {\n      return Promise.reject(NOT_FOUND);\n    }\n  }\n\n  removeItem(key, options) {\n    key = getCacheKey(key, options);\n    localStorage.removeItem(key);\n    return Promise.resolve();\n  }\n\n  getAllItems(options) {\n    const prefix = getCachePrefix(options);\n    const items = {};\n    getCacheRecords(prefix).forEach(record => {\n      if (!isExpired(record)) {\n        items[record.key] = record.value;\n      }\n    });\n    return Promise.resolve(items);\n  }\n}\n\nmodule.exports = LocalStorageStrategy;\n","/* global localStorage */\n\nconst {\n  STORAGE_PREFIX,\n  PREFIX_SEPARATOR,\n  KEY_SEPARATOR,\n} = require('../utils/constants');\n\nfunction parseCacheKey(cacheKey) {\n  const [prefix, key] = cacheKey.split(KEY_SEPARATOR);\n  const [, namespace, scope] = prefix.split(PREFIX_SEPARATOR);\n  if (scope === undefined) {\n    return { namespace, key };\n  } else {\n    return { namespace, scope, key };\n  }\n}\n\nfunction deserializeData(data) {\n  return JSON.parse(data);\n}\n\nfunction getCacheRecords(prefix = STORAGE_PREFIX + PREFIX_SEPARATOR) {\n  const items = [];\n  for (let i = 0; i < localStorage.length; i++) {\n    const key = localStorage.key(i);\n    if (key.startsWith(prefix)) {\n      const data = localStorage.getItem(key);\n      items.push(\n        Object.assign(\n          {\n            size: key.length + data.length,\n            originalKey: key,\n          },\n          deserializeData(data),\n          parseCacheKey(key),\n        ),\n      );\n    }\n  }\n  return items;\n}\n\nfunction isExpired(data) {\n  if (data.expiration) {\n    return data.createdAt + data.expiration * 1000 <= Date.now();\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = {\n  deserializeData,\n  getCacheRecords,\n  isExpired,\n};\n","const BaseStorage = require('./base-storage');\n\nfunction validateNamespace(options) {\n  if (!options.namespace) {\n    throw new Error('namespace is required');\n  } else if (typeof options.namespace !== 'string') {\n    throw new Error('namespace should be a string');\n  }\n}\n\nfunction buildValidadateOptions(capsuleOptions, options) {\n  options = Object.assign({}, capsuleOptions, options);\n  validateNamespace(options);\n  return options;\n}\n\nclass DataCapsule extends BaseStorage {\n  constructor({ strategy, namespace, scope }) {\n    super();\n    this.storageStrategy = BaseStorage.verify(strategy);\n    this._options = { namespace, scope };\n  }\n\n  setItem(key, value, options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.setItem(key, value, options);\n  }\n\n  getItem(key, options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.getItem(key, options);\n  }\n\n  removeItem(key, options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.removeItem(key, options);\n  }\n\n  getAllItems(options) {\n    options = buildValidadateOptions(this._options, options);\n    return this.storageStrategy.getAllItems(options);\n  }\n}\n\nmodule.exports = DataCapsule;\n","const listenerMessageChannel = require('message-channel/listener');\nconst greedySplit = require('greedy-split');\nconst BaseStorage = require('../base-storage');\nconst LocalStorageStrategy = require('../strategies/local-storage');\n\nclass FrameStorageListener {\n  constructor(strategy = new LocalStorageStrategy()) {\n    this.storageStrategy = BaseStorage.verify(strategy);\n    this.stopListener = undefined;\n  }\n\n  start(verifier, interceptor) {\n    if (!verifier || typeof verifier !== 'function') {\n      throw new Error(\n        'start function must get a verifier function as a first argument',\n      );\n    }\n\n    if (interceptor && typeof interceptor !== 'function') {\n      throw new Error('the interceptor must be a function');\n    }\n\n    const storageStrategy = BaseStorage.verify(this.storageStrategy);\n    this.stopListener = listenerMessageChannel('data-capsule', messageHandler);\n\n    function messageHandler(e, reply) {\n      if (typeof e.data !== 'string') {\n        return;\n      }\n\n      const [token, method, payload] = greedySplit(e.data, '|', 3);\n\n      const respond = (status, data) => {\n        if (status === 'resolve') {\n          const response = [status, JSON.stringify({ data })].join('|');\n          return reply(response);\n        }\n\n        const response = [status, data].join('|');\n        return reply(response);\n      };\n\n      if (!verifier(e.source, e.origin, token)) {\n        return respond('reject', new Error('message was not authorized'));\n      }\n\n      const invoke = storageStrategy[method].bind(storageStrategy);\n\n      const params = JSON.parse(payload).data;\n      const options = params[params.length - 1];\n\n      const modifiedOptions = interceptor\n        ? interceptor(options, e.source, e.origin, token)\n        : options;\n      params[params.length - 1] = modifiedOptions;\n\n      return invoke(...params)\n        .then(result => {\n          return respond('resolve', result);\n        })\n        .catch(error => {\n          return respond('reject', error.message || error);\n        });\n    }\n  }\n\n  stop() {\n    this.stopListener && this.stopListener();\n  }\n}\n\nmodule.exports = FrameStorageListener;\n","module.exports = require('./dist/src/listener/listener');\n","'use strict';\n\nvar _constants = require('../constants');\n\nvar _utils = require('../utils');\n\nvar _listenFactory = require('./listen-factory');\n\nvar _listenFactory2 = _interopRequireDefault(_listenFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isMessageRelevant(message, scope) {\n  try {\n    return (0, _utils.parseConnectionMessage)(message) === scope;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getMessagePort(e) {\n  try {\n    return e.ports[0];\n  } catch (e) {}\n}\n\nfunction authorizeConnection(port) {\n  port.postMessage(_constants.connectionSuccessMsg);\n}\n\nvar noop = function noop() {};\n\nfunction listener(scope) {\n  var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n  if (!scope || typeof scope !== 'string') {\n    throw new Error('listener function expects to recieve a scope<string> as a first argument');\n  }\n\n  var _listener = function _listener(e) {\n    if (isMessageRelevant(e.data, scope)) {\n      var port = getMessagePort(e);\n      if (port) {\n        authorizeConnection(port);\n        (0, _listenFactory2.default)(port, callback);\n      }\n    }\n  };\n\n  window.addEventListener('message', _listener);\n  return function () {\n    return window.removeEventListener('message', _listener);\n  };\n}\n\nmodule.exports = listener;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = listenFactory;\n\nvar _utils = require('../utils');\n\nfunction listenFactory(port, callback) {\n  port.onmessage = function (e) {\n    var originalMessage = e.data;\n\n    var _parseChannelMessage = (0, _utils.parseChannelMessage)(originalMessage),\n        id = _parseChannelMessage.id,\n        payload = _parseChannelMessage.payload;\n\n    var reply = function reply(replyMessage) {\n      port.postMessage((0, _utils.constructChannelMessage)(replyMessage, id));\n    };\n\n    var modifiedEvent = {\n      data: payload,\n      origin: e.origin,\n      lastEventId: e.lastEventId,\n      source: e.source,\n      ports: e.ports\n    };\n\n    callback(modifiedEvent, reply);\n  };\n}","/* global localStorage */\n\nconst { getCacheRecords, isExpired } = require('./record-utils');\n\nfunction deleteRecord(cleaner, record = cleaner.records[0]) {\n  localStorage.removeItem(record.originalKey);\n  return {\n    records:\n      record === cleaner.records[0]\n        ? cleaner.records.slice(1)\n        : cleaner.records.filter(\n            ({ originalKey }) => originalKey !== record.originalKey,\n          ),\n    requiredSpace: cleaner.requiredSpace - record.size,\n  };\n}\n\nfunction deleteExpired(cleaner) {\n  const expiredRecords = cleaner.records.filter(record => isExpired(record));\n  expiredRecords.forEach(record => (cleaner = deleteRecord(cleaner, record)));\n  return cleaner;\n}\n\nfunction lastUsedSort(a, b) {\n  return a.lastUsed - b.lastUsed;\n}\n\nfunction canClean(cleaner) {\n  return cleaner.records.length > 0 && cleaner.requiredSpace > 0;\n}\n\nfunction deleteOld(cleaner) {\n  cleaner.records.sort(lastUsedSort);\n  while (canClean(cleaner)) {\n    cleaner = deleteRecord(cleaner);\n  }\n  return cleaner;\n}\n\nfunction localStorageCleaner(requiredSpace) {\n  let cleaner = { records: getCacheRecords(), requiredSpace };\n  cleaner = deleteExpired(cleaner);\n  deleteOld(cleaner);\n}\n\nmodule.exports = localStorageCleaner;\n","const greedySplit = require('greedy-split');\nconst connectMessageChannel = require('message-channel/connect');\nconst BaseStorage = require('../base-storage');\nconst {\n  CONNECTION_MAX_TIMEOUT,\n  MESSAGE_MAX_TIMEOUT,\n} = require('../utils/constants');\n\nclass FrameStorageStrategy extends BaseStorage {\n  constructor(target, origin, token) {\n    super();\n    this.target = target;\n    this.origin = origin;\n    this.token = token;\n    this.channel = undefined;\n  }\n\n  getChannel() {\n    if (this.channel) {\n      return Promise.resolve(this.channel);\n    }\n\n    return connectMessageChannel('data-capsule', {\n      target: this.target,\n      origin: this.origin,\n      connectionMaxTimeout: CONNECTION_MAX_TIMEOUT,\n      messageMaxTimeout: MESSAGE_MAX_TIMEOUT,\n    }).then(channel => {\n      this.channel = channel;\n      return channel;\n    });\n  }\n\n  sendCommand(method, params) {\n    const payload = { data: params };\n\n    return this.getChannel().then(sendToChannel => {\n      const message = [this.token, method, JSON.stringify(payload)].join('|');\n\n      return sendToChannel(message).then(e => {\n        const [status, payload] = greedySplit(e.data, '|', 2);\n        if (status === 'reject') {\n          throw payload;\n        }\n\n        return JSON.parse(payload).data;\n      });\n    });\n  }\n\n  setItem(...params) {\n    return this.sendCommand('setItem', params);\n  }\n\n  getItem(...params) {\n    return this.sendCommand('getItem', params);\n  }\n\n  removeItem(...params) {\n    return this.sendCommand('removeItem', params);\n  }\n\n  getAllItems(...params) {\n    return this.sendCommand('getAllItems', params);\n  }\n}\n\nmodule.exports = FrameStorageStrategy;\n","module.exports = require('./dist/src/connect/connect');\n","'use strict';\n\nvar _constants = require('../constants');\n\nvar _utils = require('../utils');\n\nvar _sendFactory = require('./send-factory');\n\nvar _sendFactory2 = _interopRequireDefault(_sendFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction connect(scope) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$targetOrigin = options.targetOrigin,\n      targetOrigin = _options$targetOrigin === undefined ? '*' : _options$targetOrigin,\n      _options$connectionMa = options.connectionMaxTimeout,\n      connectionMaxTimeout = _options$connectionMa === undefined ? _constants.deafultConnectionMaxTimeout : _options$connectionMa,\n      _options$messageMaxTi = options.messageMaxTimeout,\n      messageMaxTimeout = _options$messageMaxTi === undefined ? _constants.deafultMessageMaxTimeout : _options$messageMaxTi;\n\n\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      reject(new Error('max timeout of ' + connectionMaxTimeout + 'ms exceeded'));\n    }, connectionMaxTimeout);\n\n    var channel = new window.MessageChannel();\n\n    channel.port1.onmessage = function (e) {\n      if (e.data === _constants.connectionSuccessMsg) {\n        return resolve((0, _sendFactory2.default)(channel.port1, { messageMaxTimeout: messageMaxTimeout }));\n      } else {\n        reject(new Error('connection could not establise'));\n      }\n    };\n\n    var connectionMessage = (0, _utils.constructConnectionMessage)(scope);\n    window.parent.postMessage(connectionMessage, targetOrigin, [channel.port2]);\n  });\n}\n\nmodule.exports = connect;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = sendFactory;\n\nvar _utils = require('../utils');\n\nvar _v = require('uuid/v4');\n\nvar _v2 = _interopRequireDefault(_v);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sendFactory(port, options) {\n  var messageMaxTimeout = options.messageMaxTimeout;\n\n  var messages = {};\n\n  port.onmessage = function (e) {\n    var _parseChannelMessage = (0, _utils.parseChannelMessage)(e.data),\n        id = _parseChannelMessage.id,\n        payload = _parseChannelMessage.payload;\n\n    if (messages[id]) {\n      var modifiedEvent = {\n        data: payload,\n        origin: e.origin,\n        lastEventId: e.lastEventId,\n        source: e.source,\n        ports: e.ports\n      };\n\n      messages[id](modifiedEvent);\n    }\n  };\n\n  return function (message, transferList) {\n    return new Promise(function (resolve, reject) {\n      setTimeout(function () {\n        reject(new Error('max timeout of ' + messageMaxTimeout + 'ms exceeded'));\n      }, messageMaxTimeout);\n\n      var messageId = (0, _v2.default)();\n      var packaged = (0, _utils.constructChannelMessage)(message, messageId);\n      messages[messageId] = resolve;\n      return port.postMessage(packaged, transferList);\n    });\n  };\n}","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","/* global window */\n\nconst dataCapsuleTools = require('./index');\n\nif (typeof window !== 'undefined') {\n  window.DataCapsuleTools = dataCapsuleTools;\n}\n\nmodule.exports = dataCapsuleTools;\n","const FrameStorageListener = require('./utils/frame-storage-listener');\nconst LocalStorageStrategy = require('./strategies/local-storage');\nconst FrameStorageStrategy = require('./strategies/frame-storage');\nconst WixStorageStrategy = require('./strategies/wix-storage');\nconst CachedStorageStrategy = require('./strategies/cached-storage');\nconst InMemoryStorageStrategy = require('./strategies/in-memory-storage');\nconst { NOT_FOUND } = require('./utils/constants');\nconst BaseStorage = require('./base-storage');\nconst DataCapsule = require('./data-capsule');\n\nfunction LocalStorageCapsule(options) {\n  return new DataCapsule(\n    Object.assign({}, options, { strategy: new LocalStorageStrategy() }),\n  );\n}\n\nfunction InMemoryStorageCapsule(options) {\n  return new DataCapsule(\n    Object.assign({}, options, { strategy: new InMemoryStorageStrategy() }),\n  );\n}\n\nfunction LocalStorageCachedCapsule(options) {\n  return new DataCapsule(\n    Object.assign({}, options, {\n      strategy: new CachedStorageStrategy({\n        remoteStrategy: options.remoteStrategy,\n      }),\n    }),\n  );\n}\n\nmodule.exports = {\n  NOT_FOUND,\n  BaseStorage,\n  DataCapsule,\n  FrameStorageListener,\n  FrameStorageStrategy,\n  LocalStorageStrategy,\n  LocalStorageCapsule,\n  WixStorageStrategy,\n  CachedStorageStrategy,\n  LocalStorageCachedCapsule,\n  InMemoryStorageStrategy,\n  InMemoryStorageCapsule,\n};\n","const axios = require('axios');\nconst BaseStorage = require('../base-storage');\nconst { NOT_FOUND, SERVER_ERROR } = require('../utils/constants');\n\nclass WixStorageStrategy extends BaseStorage {\n  setItem(key, value, options) {\n    const payload = {\n      nameSpace: options.namespace,\n      key,\n      blob: value,\n    };\n    if (options.scope && options.scope.siteId) {\n      payload.siteId = options.scope.siteId;\n    }\n    if (options.expiration) {\n      payload.TTLInDays = Math.ceil(options.expiration / (60 * 60 * 24));\n    }\n    return axios\n      .post('/_api/wix-user-preferences-webapp/set', payload)\n      .then(() => undefined)\n      .catch(() => {\n        throw SERVER_ERROR;\n      });\n  }\n\n  removeItem(key, options) {\n    const payload = {\n      nameSpace: options.namespace,\n      key,\n    };\n    if (options.scope && options.scope.siteId) {\n      payload.siteId = options.scope.siteId;\n    }\n    return axios\n      .post('/_api/wix-user-preferences-webapp/delete', payload)\n      .then(() => undefined)\n      .catch(() => {\n        throw SERVER_ERROR;\n      });\n  }\n\n  getItem(key, options) {\n    const siteId = options.scope && options.scope.siteId;\n    const path = siteId ? 'getVolatilePrefForSite' : 'getVolatilePrefForKey';\n    const url = [\n      '/_api/wix-user-preferences-webapp',\n      path,\n      options.namespace,\n      siteId,\n      key,\n    ]\n      .filter(x => x)\n      .join('/');\n\n    return axios\n      .get(url)\n      .then(res => res.data[key])\n      .catch(err => {\n        throw err.response.status === 404 ? NOT_FOUND : SERVER_ERROR;\n      });\n  }\n\n  getAllItems(options) {\n    const siteId = options.scope && options.scope.siteId;\n    const path = siteId ? 'getVolatilePrefsForSite' : 'getVolatilePrefs';\n    const url = [\n      '/_api/wix-user-preferences-webapp',\n      path,\n      options.namespace,\n      siteId,\n    ]\n      .filter(x => x)\n      .join('/');\n\n    return axios\n      .get(url)\n      .then(res => res.data)\n      .catch(() => {\n        throw SERVER_ERROR;\n      });\n  }\n}\n\nmodule.exports = WixStorageStrategy;\n","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n  config.method = config.method.toLowerCase();\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","const { NOT_FOUND } = require('../utils/constants');\nconst BaseStorage = require('../base-storage');\nconst LocalStorageStrategy = require('./local-storage');\n\nconst DELETED = '___DELETED___';\n\nclass CachedStorageStrategy extends BaseStorage {\n  constructor({ remoteStrategy, localStrategy = new LocalStorageStrategy() }) {\n    super();\n    this.remoteStrategy = BaseStorage.verify(remoteStrategy);\n    this.localStrategy = BaseStorage.verify(localStrategy);\n  }\n\n  _cacheItem(key, value, options) {\n    return this.localStrategy.setItem(\n      key,\n      value,\n      Object.assign(options, { expiration: 3600 }),\n    );\n  }\n\n  setItem(key, value, options) {\n    return this.remoteStrategy\n      .setItem(key, value, options)\n      .then(() => this._cacheItem(key, value, options));\n  }\n\n  removeItem(key, options) {\n    return this.remoteStrategy\n      .removeItem(key, options)\n      .then(() => this._cacheItem(key, DELETED, options));\n  }\n\n  _getRemoteAndCache(key, options) {\n    return this.remoteStrategy\n      .getItem(key, options)\n      .then(value => {\n        return this._cacheItem(key, value, options).then(() => value);\n      })\n      .catch(e => {\n        if (e === NOT_FOUND) {\n          return this._cacheItem(key, DELETED, options).then(() => {\n            throw e;\n          });\n        }\n        throw e;\n      });\n  }\n\n  getItem(key, options) {\n    function throwIfDeletedOrReturn(value) {\n      if (value === DELETED) {\n        throw NOT_FOUND;\n      }\n\n      return value;\n    }\n\n    return this.localStrategy\n      .getItem(key, options)\n      .catch(() => this._getRemoteAndCache(key, options))\n      .then(throwIfDeletedOrReturn);\n  }\n\n  getAllItems(options) {\n    return this.remoteStrategy\n      .getAllItems(options)\n      .then(items =>\n        Promise.all(\n          Object.keys(items).map(key =>\n            this._cacheItem(key, items[key], options),\n          ),\n        ).then(() => items),\n      );\n  }\n}\n\nmodule.exports = CachedStorageStrategy;\n","const { NOT_FOUND } = require('../utils/constants');\nconst BaseStorage = require('../base-storage');\n\nexport class InMemoryStrategy extends BaseStorage {\n  constructor() {\n    super();\n    this.memoryMap = {};\n  }\n\n  setItem(key, value, options = {}) {\n    if (typeof this.memoryMap[options.namespace] === 'undefined') {\n      this.memoryMap[options.namespace] = {};\n    }\n    this.memoryMap[options.namespace][key] = value;\n    return Promise.resolve();\n  }\n\n  getItem(key, options = {}) {\n    const data =\n      this.memoryMap[options.namespace] &&\n      this.memoryMap[options.namespace][key];\n    return typeof data !== 'undefined'\n      ? Promise.resolve(data)\n      : Promise.reject(NOT_FOUND);\n  }\n\n  removeItem(key, options = {}) {\n    delete this.memoryMap[options.namespace][key];\n    return Promise.resolve();\n  }\n\n  getAllItems(options = {}) {\n    return Promise.resolve(this.memoryMap[options.namespace]);\n  }\n}\n\nmodule.exports = InMemoryStrategy;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"],"sourceRoot":""}